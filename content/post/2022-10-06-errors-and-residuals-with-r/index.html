---
title: Errors and Residuals with R
author: Jes LaCourse
date: '2022-10-06'
slug: [ErrorsResiduals]
categories: []
tags: ['regression', 'plotly', 'ggplot', 'dataviz', 'rstats']
description: ''
---



<pre><code>##        [,1]  [,2]  [,3]  [,4]  [,5]  [,6]  [,7]  [,8]  [,9]  [,10] [,11] [,12]
## Person &quot;1&quot;   &quot;2&quot;   &quot;3&quot;   &quot;4&quot;   &quot;5&quot;   &quot;6&quot;   &quot;7&quot;   &quot;8&quot;   &quot;9&quot;   &quot;10&quot;  &quot;11&quot;  &quot;12&quot; 
## Age    &quot;58&quot;  &quot;46&quot;  &quot;56&quot;  &quot;37&quot;  &quot;23&quot;  &quot;30&quot;  &quot;20&quot;  &quot;25&quot;  &quot;31&quot;  &quot;50&quot;  &quot;34&quot;  &quot;27&quot; 
## BP     &quot;167&quot; &quot;136&quot; &quot;116&quot; &quot;116&quot; &quot;101&quot; &quot;121&quot; &quot;103&quot; &quot;101&quot; &quot;105&quot; &quot;158&quot; &quot;117&quot; &quot;118&quot;
##        [,13] [,14] [,15] [,16] [,17] [,18] [,19] [,20]
## Person &quot;13&quot;  &quot;14&quot;  &quot;15&quot;  &quot;16&quot;  &quot;17&quot;  &quot;18&quot;  &quot;19&quot;  &quot;20&quot; 
## Age    &quot;22&quot;  &quot;52&quot;  &quot;20&quot;  &quot;42&quot;  &quot;20&quot;  &quot;58&quot;  &quot;24&quot;  &quot;35&quot; 
## BP     &quot;113&quot; &quot;148&quot; &quot;105&quot; &quot;142&quot; &quot; 89&quot; &quot;153&quot; &quot;122&quot; &quot;135&quot;</code></pre>
<pre class="r"><code>m &lt;- lm(BP ~ Age, data = data)
summary(m)</code></pre>
<pre><code>## 
## Call:
## lm(formula = BP ~ Age, data = data)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -34.248  -6.525   1.099   8.124  15.639 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  76.6333     7.9199   9.676 1.48e-08 ***
## Age           1.3146     0.2091   6.288 6.28e-06 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 12.36 on 18 degrees of freedom
## Multiple R-squared:  0.6872, Adjusted R-squared:  0.6698 
## F-statistic: 39.54 on 1 and 18 DF,  p-value: 6.284e-06</code></pre>
<pre class="r"><code>par(mfrow = c(2,2))
plot(m)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<pre class="r"><code>data$Predicted &lt;- predict(m)
data$Residuals &lt;- m$residuals

data %&gt;%
  
  ggplot(aes(x = Age, y = BP)) + 
  geom_smooth(method = &quot;lm&quot;) +
  geom_point(aes(y = Predicted), 
             shape = 1, size = 3.5) +
  geom_segment(aes(xend = Age, yend = Predicted), alpha = 0.5) +
  geom_point(size = 2, color = &quot;black&quot;) + 
  geom_text(aes(label = Person), hjust  = 1.5, size = 3)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-2.png" width="672" /></p>
<pre class="r"><code>data %&gt;% 
  ggplot() + 
  geom_histogram(aes(x = Residuals), bins = 10, color = &quot;black&quot;) </code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-3.png" width="672" /></p>
